@model BattalgaziSosyalYardim.Models.ApplicationCreateViewModel
@{
    ViewData["Title"] = Model.ProgramTitle;
    Layout = "_Layout";
}

<style>
    body {
        background: url('/img/bg-battalgazi.jpg') no-repeat center center fixed;
        background-size: cover;
    }
    .form-shell {
        max-width: 900px;
        margin: 48px auto;
        background: rgba(255,255,255,0.92);
        border-radius: 18px;
        box-shadow: 0 18px 40px rgba(0,0,0,.25);
        padding: 24px 22px 10px;
        position: relative;
    }
    .title-row {
        display:flex; align-items:center; justify-content:center; gap:12px;
        margin: 10px 0 18px;
    }
    .title-row img.logo-left { width:90px; }
    .title-row img.logo-right { width:90px; margin-left:auto; }
    .title-text { font-size: 26px; font-weight: 800; text-align:center; flex:1; }
    .label-col { width: 220px; color:#333; font-weight:600; padding:14px 10px; }
    .input-col { padding:10px; }
    .submit-wrap { text-align:center; margin-top: 8px; margin-bottom: 16px; }
    .btn-apply { font-weight:700; padding:13px 22px; border-radius:12px; }
    .footer-note { text-align:center; color:#6b6b6b; font-weight:600; padding:10px 0 2px; }
    .calendar-icon { position:absolute; right:16px; top:50%; transform:translateY(-50%); opacity:.5 }
    .date-wrap { position:relative; }
</style>

<div class="form-shell">
    <div class="title-row">
        <img class="logo-left" src="/img/battalgazi-logo.png" alt="Battalgazi" />
        <div class="title-text">@Model.ProgramTitle</div>
        <img class="logo-right" src="/img/social-aid-logo.png" alt="Sosyal Yardım" />
    </div>

    <form asp-action="Create" method="post" novalidate>
        @Html.AntiForgeryToken()
        <input type="hidden" asp-for="ProgramCode" />

        <div class="row g-0">
            <div class="col-12 col-md-4 label-col">Anne T.C. Kimlik No</div>
            <div class="col-12 col-md-8 input-col">
                <input asp-for="MotherNationalId" class="form-control" maxlength="11" />
                <span class="text-danger" asp-validation-for="MotherNationalId"></span>
            </div>

            <div class="col-12 col-md-4 label-col">Anne Doğum Tarihi</div>
            <div class="col-12 col-md-8 input-col">
                <div class="date-wrap">
                    <input asp-for="MotherBirthDate" class="form-control" type="date" />
                    <span class="calendar-icon bi bi-calendar3"></span>
                </div>
                <span class="text-danger" asp-validation-for="MotherBirthDate"></span>
            </div>

            <div class="col-12 col-md-4 label-col">Anne Ad Soyad</div>
            <div class="col-12 col-md-8 input-col">
                <input asp-for="MotherFullName" class="form-control" />
                <span class="text-danger" asp-validation-for="MotherFullName"></span>
            </div>

            <div class="col-12 col-md-4 label-col">Telefon</div>
            <div class="col-12 col-md-8 input-col">
                <input asp-for="PhoneNumber" class="form-control" placeholder="05XXXXXXXXX" />
                <span class="text-danger" asp-validation-for="PhoneNumber"></span>
            </div>

            <div class="col-12 col-md-4 label-col">Bebek T.C. Kimlik No</div>
            <div class="col-12 col-md-8 input-col">
                <input asp-for="BabyNationalId" class="form-control" maxlength="11" />
                <span class="text-danger" asp-validation-for="BabyNationalId"></span>
            </div>
        </div>

        <div class="submit-wrap">
            <button type="submit" class="btn btn-success btn-apply">
                <i class="bi bi-clipboard-check"></i> Başvuru Yap
            </button>
        </div>
    </form>

    <div class="footer-note">Battalgazi Belediyesi Bilgi İşlem Müdürlüğü</div>
</div>

@section Scripts {
    <partial name="_ValidationScriptsPartial" />

    <!-- Bootstrap modal’ı otomatik aç -->
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const modalEl = document.getElementById('programInfoModal');
            if (modalEl) {
                const m = new bootstrap.Modal(modalEl, { backdrop: 'static', keyboard: true });
                m.show();
            }
        });
    </script>
}

<!-- Bilgilendirme Modal (ekrandakiyle uyumlu metin) -->
<div class="modal fade" id="programInfoModal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-lg modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Battalgazi Belediyesi Bebek Bezi Desteği</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Kapat"></button>
            </div>
            <div class="modal-body">
                <p><b>Müdürlük:</b> SOSYAL YARDIM İŞLERİ ŞUBE MÜDÜRLÜĞÜ</p>
                <p><b>Projenin amacı:</b> 2025 “Aile yılı” kapsamında bebek bezi desteği</p>
                <p><b>Proje başlangıcı:</b> 01.06.2025</p>
                <p><b>Proje bitimi:</b> 31.12.2025</p>
                <ul>
                    <li>TÜRKİYE CUMHURİYETİ vatandaşı olmak</li>
                    <li>Battalgazi ilçe sınırlarında ikamet ediyor olmak</li>
                    <li>Bez desteği alacak çocukların 0 ile 24 ay arasında olması</li>
                    <li>Ailenin dar gelirli olması (iki asgari ücretin altında olması gerekmektedir.)</li>
                    <li>Sosyal uyum yardımı alamayan aileler başvurabilir</li>
                    <li>Eksik ve sahte olduğu tespit edilen başvurular kabul edilmeyecektir</li>
                    <li>Başvurular bebeğin annesi üzerinden online olarak yapılacaktır</li>
                </ul>
                <p class="text-danger fw-bold">
                    NOT: BAŞVURULAR SADECE ONLINE SİSTEM ÜZERİNDEN KABUL EDİLMEKTEDİR.
                </p>
            </div>
            <div class="modal-footer">
                <button class="btn btn-primary" data-bs-dismiss="modal">Tamam</button>
            </div>
        </div>
    </div>
</div>
