@{
    ViewData["Title"] = "0-2 Yaş Bebek Bezi Desteği Başvuru Formu";
    var programTitle = (ViewData["ProgramTitle"] as string) ?? "Bebek Bezi Desteği";
}

<style>
    body {
        /* Arka plan fotoğrafı */
        background: url('/img/bg-battalgazi.jpg') no-repeat center center fixed;
        background-size: cover;
    }

    /* Ortadaki kart */
    .form-shell {
        max-width: 980px;
        margin: 48px auto;
        background: rgba(255,255,255,0.92);
        border-radius: 18px;
        box-shadow: 0 18px 40px rgba(0,0,0,.25);
        padding: 24px 28px 20px;
        position: relative;
    }

    .form-header {
        display: flex;
        align-items: center;
        justify-content: space-between;
        margin-bottom: 12px;
    }

        .form-header img {
            height: 58px;
        }

    .form-title {
        text-align: center;
        font-weight: 800;
        font-size: 24px;
        margin: 10px 0 18px;
    }

    .label-col {
        width: 220px;
        color: #333;
        font-weight: 600;
        padding-right: 16px;
        white-space: nowrap;
    }

    .row-item {
        display: flex;
        align-items: center;
        margin: 14px 0;
    }

        .row-item input[type="text"],
        .row-item input[type="tel"],
        .row-item input[type="date"] {
            flex: 1 1 auto;
            height: 42px;
            border-radius: 10px;
            border: 1px solid #e1e1e1;
            padding: 0 14px;
            outline: none;
            background: #fff;
        }

    .submit-wrap {
        text-align: center;
        margin: 22px 0 6px;
    }

    .btn-submit {
        display: inline-flex;
        align-items: center;
        gap: 10px;
        border: 0;
        border-radius: 10px;
        padding: 12px 18px;
        background: #2CB170;
        color: #fff;
        font-weight: 700;
        box-shadow: 0 10px 18px rgba(0,0,0,.18);
        cursor: pointer;
    }

    .footer-line {
        text-align: center;
        color: #444;
        font-weight: 600;
        margin-top: 8px;
        padding: 10px 0;
        background: rgba(255,255,255,0.85);
        border-radius: 0 0 14px 14px;
    }

    /* Bootstrap modal override ufak dokunuşlar */
    .modal-content {
        border-radius: 14px;
    }

    .modal-header {
        border-bottom: 0;
    }

    .modal-title {
        font-weight: 800;
    }

    .modal-body ul {
        margin: 0 0 0 18px;
    }

    .modal-body li {
        margin: 6px 0;
    }

    .note-red {
        color: #d41414;
        font-weight: 800;
    }
</style>

<div class="form-shell">
    <div class="form-header">
        <img src="/img/battalgazi-logo.png" alt="Battalgazi Belediyesi" />
        <img src="/img/bebek-yardim-logo.png" onerror="this.style.display='none';" alt="" />
    </div>

    <div class="form-title">0-2 YAŞ BEBEK BEZİ DESTEĞİ BAŞVURU FORMU</div>

    <form method="post" action="#">
        <!-- NOT: Şimdilik yalnızca görünüm. Post action'ı ekleyince değiştiririz. -->
        <div class="row-item">
            <div class="label-col">Anne T.C. Kimlik No</div>
            <input type="text" name="MotherNationalId" maxlength="11" placeholder="11 haneli TCKN" />
        </div>

        <div class="row-item">
            <div class="label-col">Anne Doğum Tarihi</div>
            <input type="date" name="MotherBirthDate" />
        </div>

        <div class="row-item">
            <div class="label-col">Anne Ad Soyad</div>
            <input type="text" name="MotherFullName" placeholder="Ad Soyad" />
        </div>

        <div class="row-item">
            <div class="label-col">Telefon</div>
            <input type="tel" name="PhoneNumber" placeholder="05XXXXXXXXX" />
        </div>

        <div class="row-item">
            <div class="label-col">Bebek T.C. Kimlik No</div>
            <input type="text" name="BabyNationalId" maxlength="11" placeholder="11 haneli TCKN" />
        </div>

        <div class="submit-wrap">
            <button class="btn-submit" type="submit">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><path d="M3 12l18-9-9 18-2-7-7-2z" /></svg>
                Başvuru Yap
            </button>
        </div>
    </form>

    <div class="footer-line">Battalgazi Belediyesi Bilgi İşlem Müdürlüğü</div>
</div>

<!-- Bilgilendirme Modal (Bootstrap 5) -->
<div class="modal fade" id="infoModal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-lg modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Battalgazi Belediyesi Bebek Bezi Desteği</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Kapat"></button>
            </div>
            <div class="modal-body">
                <p><strong>Müdürlük:</strong> SOSYAL YARDIM İŞLERİ ŞUBE MÜDÜRLÜĞÜ</p>
                <p><strong>Projenin amacı:</strong> 2025 “Aile yılı” kapsamında bebek bezi desteği</p>
                <p><strong>Proje başlangıcı:</strong> 01.06.2025</p>
                <p><strong>Proje bitimi:</strong> 31.12.2025</p>
                <ul>
                    <li>TÜRKİYE CUMHURİYETİ vatandaşı olmak</li>
                    <li>Battalgazi ilçe sınırlarında ikamet ediyor olması</li>
                    <li>Bez desteği alacak çocukların 0 ile 24 ay arasında olması</li>
                    <li>Ailenin dar gelirli olması (dar gelirli: iki asgari ücretin altında olması gerekmektedir.)</li>
                    <li>Sosyal uyum yardımı alamayan aileler başvurabilir</li>
                    <li>Eksik ve sahte olduğu tespit edilen başvurular kabul edilmeyecektir</li>
                    <li>Başvurular bebeğin annesi üzerinden online olarak yapılacaktır</li>
                </ul>
                <p class="note-red mt-3">NOT: BAŞVURULAR SADECE ONLINE SİSTEM ÜZERİNDEN KABUL EDİLMEKTEDİR.</p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary" data-bs-dismiss="modal">Tamam</button>
            </div>
        </div>
    </div>
</div>

@section Scripts {
    <!-- Bootstrap 5 modali otomatik aç + bir kez göster -->
    <script>
        (function () {
            const KEY = "bbd_info_shown";
            const modalEl = document.getElementById('infoModal');

            if (modalEl) {
                const modal = new bootstrap.Modal(modalEl, { backdrop: 'static' });

                // sadece 1 kere gösterilsin
                if (!localStorage.getItem(KEY)) {
                    modal.show();
                    localStorage.setItem(KEY, "1");
                }
            }
        })();
    </script>
}
